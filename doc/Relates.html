<!doctype html public "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>
<!-- steal these colour values from JavaDocs; meh -->
<style type = "text/css">
	a:link,  a:visited { color: #4a6782; }
	a:hover, a:focus   { color: #bb7a2a; }
	a:active           { color: #4A6782; }
	tr:nth-child(even) { background: #dee3e9; }
	div {
		margin:  4px 0;
		padding: 0 4px 4px 4px;
	}
	table      { width: 100%; }
	td         { padding: 4px; }
	h3, h1 {
		color: #2c4557;
		background-color: #dee3e9;
		padding:          4px;
	}
	h3 {
		margin:           0 -4px;
		padding:          4px;
	}
</style>
<title>Relates</title>
</head>


<body>

<h1>Relates</h1>

<ul>
	<li><a href = "#_declarations">Declarations</a></li>
	<li><a href = "#_summary">Function Summary</a></li>
	<li><a href = "#_detail">Function Detail</a></li>
</ul>

<p>
2017 Neil Edelman, distributed under the terms of the MIT License;
see readme.txt, or <a href = "https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>.
</p>
<p>
<em>Relates</em> is a wrapper for the recursive <em>Relate</em>, which stores an association
between key-value <em>Text</em> fields, and children <em>Relate</em>s in a tree.
</p>
<dl>
	<dt>minimum standard</dt>
	<dd>C89/90</dd>
	<dt>author</dt>
	<dd>Neil</dd>
	<dt>version</dt>
	<dd>1.0; 2017-02</dd>
	<dt>since</dt>
	<dd>1.0; 2017-02</dd>
</dl>


<a name = "_declarations"><!-- --></a><h2>Declarations</h2>

<div><a name = "typedef void (*RelateAction)(struct Relate *const)"><!-- --></a>
<h3>typedef void (*RelateAction)(struct Relate *const)</h3>
<pre><b>typedef void (*RelateAction)(struct Relate *const)</b></pre>
<p>
Action function.
</p>
<dl>
</dl>
</div>

<div><a name = "typedef int (*RelatePredicate)(const struct Relate *const)"><!-- --></a>
<h3>typedef int (*RelatePredicate)(const struct Relate *const)</h3>
<pre><b>typedef int (*RelatePredicate)(const struct Relate *const)</b></pre>
<p>
Predicate function.
</p>
<dl>
</dl>
</div>


<a name = "_summary"><!-- --></a><h2>Function Summary</h2>

<table>
<tr><th>Return Type</th><th>Function Name</th><th>Argument List</th></tr>
<tr>
	<td>struct Relates *</td>
	<td><a href = "#Relates">Relates</a></td>
	<td>void</td>
</tr>
<tr>
	<td>void</td>
	<td><a href = "#Relates_">Relates_</a></td>
	<td>struct Relates **const this_ptr</td>
</tr>
<tr>
	<td>struct Relate *</td>
	<td><a href = "#RelatesGetRoot">RelatesGetRoot</a></td>
	<td>struct Relates *const this</td>
</tr>
<tr>
	<td>const char *</td>
	<td><a href = "#RelatesGetError">RelatesGetError</a></td>
	<td>struct Relates *const this</td>
</tr>
<tr>
	<td>const char *</td>
	<td><a href = "#RelateKey">RelateKey</a></td>
	<td>const struct Relate *const this</td>
</tr>
<tr>
	<td>const char *</td>
	<td><a href = "#RelateValue">RelateValue</a></td>
	<td>const struct Relate *const this</td>
</tr>
<tr>
	<td>struct Text *</td>
	<td><a href = "#RelateGetKey">RelateGetKey</a></td>
	<td>const struct Relate *const this</td>
</tr>
<tr>
	<td>struct Text *</td>
	<td><a href = "#RelateGetValue">RelateGetValue</a></td>
	<td>const struct Relate *const this</td>
</tr>
<tr>
	<td>const struct RelateParent *</td>
	<td><a href = "#RelateGetKeyParent">RelateGetKeyParent</a></td>
	<td>const struct Relate *const this</td>
</tr>
<tr>
	<td>const struct RelateParent *</td>
	<td><a href = "#RelateGetValueParent">RelateGetValueParent</a></td>
	<td>const struct Relate *const
	this</td>
</tr>
<tr>
	<td>struct Relate *</td>
	<td><a href = "#RelateNewChild">RelateNewChild</a></td>
	<td>struct Relate *const this</td>
</tr>
<tr>
	<td>void</td>
	<td><a href = "#RelateForEachChildIf">RelateForEachChildIf</a></td>
	<td>struct Relate *const this,
	RelatePredicate p, RelateAction a</td>
</tr>
<tr>
	<td>void</td>
	<td><a href = "#RelateForEachChildKey">RelateForEachChildKey</a></td>
	<td>struct Relate *const this,
	const char *const key, RelateAction a</td>
</tr>
<tr>
	<td>struct Relate *</td>
	<td><a href = "#RelateGetChild">RelateGetChild</a></td>
	<td>const struct Relate *const this,
	const char *const key</td>
</tr>
<tr>
	<td>const char *</td>
	<td><a href = "#RelateGetChildValue">RelateGetChildValue</a></td>
	<td>const struct Relate *const this,
	const char *const key</td>
</tr>
<tr>
	<td>struct Text *</td>
	<td><a href = "#RelateGetParentValue">RelateGetParentValue</a></td>
	<td>const struct Relate *const this</td>
</tr>
</table>


<a name = "_detail"><!-- --></a><h2>Function Detail</h2>

<div><a name = "Relates"><!-- --></a>
<h3>Relates</h3>
<pre>struct Relates * <b>Relates</b> (void)</pre>
<p>
Constructs a generic, <em>Text</em> with <em>root_name</em> as it's root name, or blank
if null.
</p>
<dl>
	<dt>throws</dt>
	<dd>E_PARAMETER, E_ERRNO</dd>
</dl>
</div>

<div><a name = "Relates_"><!-- --></a>
<h3>Relates_</h3>
<pre>void <b>Relates_</b> (struct Relates **const this_ptr)</pre>
<p>
Destructs a <em>Text</em>.
</p>
<dl>
</dl>
</div>

<div><a name = "RelatesGetRoot"><!-- --></a>
<h3>RelatesGetRoot</h3>
<pre>struct Relate * <b>RelatesGetRoot</b> (struct Relates *const this)</pre>
<dl>
	<dt>return</dt>
	<dd>The <em>Relate</em> root of the <em>Relates</em>.</dd>
</dl>
</div>

<div><a name = "RelatesGetError"><!-- --></a>
<h3>RelatesGetError</h3>
<pre>const char * <b>RelatesGetError</b> (struct Relates *const this)</pre>
<dl>
	<dt>return</dt>
	<dd>The last error associated with <em>this</em> (can be null.)</dd>
</dl>
</div>

<div><a name = "RelateKey"><!-- --></a>
<h3>RelateKey</h3>
<pre>const char * <b>RelateKey</b> (const struct Relate *const this)</pre>
<p>
Get key string; shortcut for <em>TextGet(RelateGetKey(this))</em>.
</p>
<dl>
</dl>
</div>

<div><a name = "RelateValue"><!-- --></a>
<h3>RelateValue</h3>
<pre>const char * <b>RelateValue</b> (const struct Relate *const this)</pre>
<p>
Get value string; shortcut for <em>TextGet(RelateGetValue(this))</em>.
</p>
<dl>
</dl>
</div>

<div><a name = "RelateGetKey"><!-- --></a>
<h3>RelateGetKey</h3>
<pre>struct Text * <b>RelateGetKey</b> (const struct Relate *const this)</pre>
<p>
Get key.
</p>
<dl>
</dl>
</div>

<div><a name = "RelateGetValue"><!-- --></a>
<h3>RelateGetValue</h3>
<pre>struct Text * <b>RelateGetValue</b> (const struct Relate *const this)</pre>
<p>
Get value.
</p>
<dl>
</dl>
</div>

<div><a name = "RelateGetKeyParent"><!-- --></a>
<h3>RelateGetKeyParent</h3>
<pre>const struct RelateParent * <b>RelateGetKeyParent</b> (const struct Relate *const this)</pre>
<p>
Get <em>RelateParent</em>, a read-only structure that describes how the key is
derived from the parent.
</p>
<dl>
</dl>
</div>

<div><a name = "RelateGetValueParent"><!-- --></a>
<h3>RelateGetValueParent</h3>
<pre>const struct RelateParent * <b>RelateGetValueParent</b> (const struct Relate *const
	this)</pre>
<p>
Get <em>RelateParent</em>, a read-only structure that describes how the value is
derived from the parent.
</p>
<dl>
</dl>
</div>

<div><a name = "RelateNewChild"><!-- --></a>
<h3>RelateNewChild</h3>
<pre>struct Relate * <b>RelateNewChild</b> (struct Relate *const this)</pre>
<p>
New child.
</p>
<dl>
</dl>
</div>

<div><a name = "RelateForEachChildIf"><!-- --></a>
<h3>RelateForEachChildIf</h3>
<pre>void <b>RelateForEachChildIf</b> (struct Relate *const this,
	RelatePredicate p, RelateAction a)</pre>
<p>
E <em>r</em> \in <em>this.children</em>, <em>p</em>(<em>r</em>) -&gt; <em>a</em>(<em>r</em>)
</p>
<dl>
</dl>
</div>

<div><a name = "RelateForEachChildKey"><!-- --></a>
<h3>RelateForEachChildKey</h3>
<pre>void <b>RelateForEachChildKey</b> (struct Relate *const this,
	const char *const key, RelateAction a)</pre>
<p>
E <em>r</em> \in <em>this.children</em>, !strcmp(<em>r.key</em>, <em>key</em>) -&gt; <em>a</em>(<em>r</em>)
</p>
<dl>
</dl>
</div>

<div><a name = "RelateGetChild"><!-- --></a>
<h3>RelateGetChild</h3>
<pre>struct Relate * <b>RelateGetChild</b> (const struct Relate *const this,
	const char *const key)</pre>
<p>
Does a short-circuit linear search of <em>this</em> for a child key that matches
<em>key</em>.
</p>
<dl>
	<dt>return</dt>
	<dd>The text or null if the key was not found.</dd>
</dl>
</div>

<div><a name = "RelateGetChildValue"><!-- --></a>
<h3>RelateGetChildValue</h3>
<pre>const char * <b>RelateGetChildValue</b> (const struct Relate *const this,
	const char *const key)</pre>
<p>
Shortcut for <em>TextGet(RelateGetValue(RelateGetChild(this, key)))</em>.
</p>
<dl>
</dl>
</div>

<div><a name = "RelateGetParentValue"><!-- --></a>
<h3>RelateGetParentValue</h3>
<pre>struct Text * <b>RelateGetParentValue</b> (const struct Relate *const this)</pre>
<p>
Gets the parent value of <em>this</em> or null if it is root.
</p>
<dl>
</dl>
</div>


</body>
</html>
